<h1>{{title}}</h1>
<p>Total images: {{count}}</p>


<form method="get" class="form-inline">
  <div class="form-group">
    <label for="query">Query:</label>
    <input type="text" name="query" value="{{query}}" class="form-control"/>
  </div>
  <!--<div class="checkbox">
    <label><input type="checkbox">Some advanced querying stuff</label>
  </div>-->
  <input type="submit" class="btn btn-default"/>
</form>


<a class="btn btn-primary" href="/images/download?{{#if query}}&query={{query}}{{/if}}" role="button">Download images as zip</a>
<a class="btn btn-primary" href="/images/random?{{#if query}}&query={{query}}{{/if}}" role="button">Random image (from query if applicable)</a>

<nav aria-label="Page navigation example">
  <ul class="pagination justify-content-center">
    <!--<li class="page-item {{#unless hasprev}}disabled{{/unless}}">
      <a class="page-link" href="#" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
        <span class="sr-only">Previous</span>
      </a>
    </li>-->


    <li class="page-item">
      <a class="page-link" href="?page=1{{#if ../query}}&query={{../query}}{{/if}}">First</a>
    </li>
    {{#each pages}}
      <li class="page-item {{#if active}}active{{/if}}"><a class="page-link" href="?page={{number}}{{#if ../query}}&query={{../query}}{{/if}}">{{number}}</a></li>
    {{/each}}
    <li class="page-item">
      <a class="page-link" href="?page={{totalpages}}{{#if ../query}}&query={{../query}}{{/if}}">Last</a>
    </li>
    <!--<li class="page-item {{#unless hasnext}}disabled{{/unless}}">
      <a class="page-link" href="#" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
        <span class="sr-only">Next</span>
      </a>
    </li>-->
  </ul>
</nav>

<div class="table-responsive">
  <table class="table table-striped table-hover" >
    <thead>
      <th>ID</th>
      <th>Image</th>
      <th>Character</th>
      <th>Emotion</th>
      <th>Text</th>
      <th>Tags</th>
      <th>Comment</th>
    </thead>

    {{#each images}}
      <tr>
        <td>{{number}}</td>
        <td>
          <figure>
            <a href="/images/{{_id}}">
              <img src="/thumbnails/{{hash}}.jpeg" class="img-thumbnail mx-auto d-block" data-bigsrc="/uploads/{{hash}}.{{extension mimetype}}"/>
              <figcaption>{{width}}x{{height}}px, {{size size}}</figcaption>
            </a>
          </figure>
        </td>
        <td>{{character}}</td>
        <td>{{emotion}}</td>
        <td>{{text}}</td>
        <td>{{{tagbuttons tags}}}</td>
        <td>{{comments}}</td>
      </tr>
    {{/each}}
  </table>
</div>
<nav>
  <ul class="pagination justify-content-center">
    <!--<li class="page-item {{#unless hasprev}}disabled{{/unless}}">
      <a class="page-link" href="#" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
        <span class="sr-only">Previous</span>
      </a>
    </li>-->

    <li class="page-item">
      <a class="page-link" href="?page=1{{#if ../query}}&query={{../query}}{{/if}}">First</a>
    </li>
    {{#each pages}}
      <li class="page-item {{#if active}}active{{/if}}"><a class="page-link" href="?page={{number}}{{#if ../query}}&query={{../query}}{{/if}}">{{number}}</a></li>
    {{/each}}
    <li class="page-item">
      <a class="page-link" href="?page={{totalpages}}{{#if ../query}}&query={{../query}}{{/if}}">Last</a>
    </li>
    <!--<li class="page-item {{#unless hasnext}}disabled{{/unless}}">
      <a class="page-link" href="#" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
        <span class="sr-only">Next</span>
      </a>
    </li>-->
  </ul>
</nav>



<img id="image-preview" style="position: fixed; top: 0px; right: 0px; max-height: 80%; max-width:80%;"/>
